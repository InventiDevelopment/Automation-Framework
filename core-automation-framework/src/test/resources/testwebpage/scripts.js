webContent = {
    "home": {
        "title": "Home",
        "content": '<p>Welcome,<br /> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce interdum et nunc non condimentum. Praesent mattis odio libero, at volutpat augue iaculis sit amet. Nulla finibus vulputate condimentum. Etiam vestibulum erat a mauris vehicula viverra. Curabitur tempor erat at lacus pretium iaculis. In mattis odio vel sem viverra, at viverra quam mattis. Sed ac faucibus lacus, at efficitur risus. Phasellus pretium purus sit amet consequat dapibus. Integer non nulla id lacus posuere vehicula sit amet at turpis. Donec tempor, dui suscipit elementum tempus, est nibh efficitur urna, quis gravida nibh mi sed libero. Etiam laoreet diam ut diam tristique tempor.</p><div class="toolTipImage"><img src="./inventi_logo.png" alt="Test image" width="250" /><span class="toolTipText">This is a logo of Inventi</span></div><p>Aenean nec turpis in ante aliquam semper et vitae tortor. Cras nec eleifend eros. In eu est ut ante interdum placerat. Integer ultrices leo purus, in semper turpis volutpat sit amet. Nulla congue bibendum risus viverra varius. Nam id eros a diam blandit volutpat sed sit amet nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie porttitor leo ullamcorper fermentum. Aenean ac mollis metus. Morbi sollicitudin magna nibh, blandit feugiat quam convallis at. Vivamus id ante vitae orci mattis volutpat ac ut nisi. Vivamus convallis nisi in ex tempor efficitur. Etiam sapien sapien, posuere nec nunc vitae, rutrum volutpat ligula.</p><p>Fusce molestie tellus ut magna pulvinar convallis. Praesent pellentesque non erat non cursus. Maecenas rhoncus mi felis, in eleifend ipsum finibus blandit. Vivamus vehicula, sapien vel dignissim tempor, urna massa luctus ligula, id venenatis arcu urna vel ipsum. Nullam egestas nec magna ut scelerisque. Nulla ut ex mi. Suspendisse mi sapien, dictum vitae fermentum eget, volutpat elementum diam. Aenean maximus aliquet augue ac fringilla. Maecenas scelerisque nibh nec est suscipit semper egestas id lacus. Suspendisse pulvinar nunc suscipit mi lacinia, in blandit risus tincidunt. In venenatis luctus felis, sit amet consequat erat fringilla eu. Phasellus auctor sem odio, in feugiat dolor vestibulum et. Fusce sem lorem, pharetra a tincidunt sit amet, semper in leo.</p><p>Integer sit amet turpis at purus viverra semper nec in risus. Fusce ut gravida arcu, a aliquam justo. Duis volutpat velit non varius posuere. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis ac rhoncus turpis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam id nibh gravida, iaculis dui vitae, vulputate neque. Vivamus vitae commodo risus. In imperdiet accumsan magna et venenatis. Vestibulum rutrum, odio at luctus auctor, quam odio efficitur sem, pellentesque volutpat sapien nisl eu quam. Donec ut tincidunt dui.</p><p>Aliquam ut nisl eu dolor ullamcorper auctor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque a felis non dui hendrerit scelerisque. Duis et orci et ex mattis imperdiet. Aenean quam urna, feugiat eu urna eget, lobortis accumsan elit. Nunc accumsan felis at erat facilisis porta. Morbi mi lacus, tristique in elementum eget, tincidunt nec sapien. Quisque vestibulum nunc ut eros cursus, nec facilisis ligula iaculis. Sed rhoncus porttitor viverra. In aliquam at mauris vel faucibus. Suspendisse mollis viverra neque, nec fringilla orci ornare sed. Praesent sollicitudin turpis ipsum, et rhoncus purus pulvinar ut. Vivamus risus lectus, tristique id consequat vel, placerat eu arcu. Pellentesque scelerisque porta ipsum id dignissim. Mauris maximus sed orci ut laoreet.</p><p>Aenean nec turpis in ante aliquam semper et vitae tortor. Cras nec eleifend eros. In eu est ut ante interdum placerat. Integer ultrices leo purus, in semper turpis volutpat sit amet. Nulla congue bibendum risus viverra varius. Nam id eros a diam blandit volutpat sed sit amet nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie porttitor leo ullamcorper fermentum. Aenean ac mollis metus. Morbi sollicitudin magna nibh, blandit feugiat quam convallis at. Vivamus id ante vitae orci mattis volutpat ac ut nisi. Vivamus convallis nisi in ex tempor efficitur. Etiam sapien sapien, posuere nec nunc vitae, rutrum volutpat ligula.</p><p>Fusce molestie tellus ut magna pulvinar convallis. Praesent pellentesque non erat non cursus. Maecenas rhoncus mi felis, in eleifend ipsum finibus blandit. Vivamus vehicula, sapien vel dignissim tempor, urna massa luctus ligula, id venenatis arcu urna vel ipsum. Nullam egestas nec magna ut scelerisque. Nulla ut ex mi. Suspendisse mi sapien, dictum vitae fermentum eget, volutpat elementum diam. Aenean maximus aliquet augue ac fringilla. Maecenas scelerisque nibh nec est suscipit semper egestas id lacus. Suspendisse pulvinar nunc suscipit mi lacinia, in blandit risus tincidunt. In venenatis luctus felis, sit amet consequat erat fringilla eu. Phasellus auctor sem odio, in feugiat dolor vestibulum et. Fusce sem lorem, pharetra a tincidunt sit amet, semper in leo.</p><p>Integer sit amet turpis at purus viverra semper nec in risus. Fusce ut gravida arcu, a aliquam justo. Duis volutpat velit non varius posuere. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis ac rhoncus turpis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam id nibh gravida, iaculis dui vitae, vulputate neque. Vivamus vitae commodo risus. In imperdiet accumsan magna et venenatis. Vestibulum rutrum, odio at luctus auctor, quam odio efficitur sem, pellentesque volutpat sapien nisl eu quam. Donec ut tincidunt dui.</p><p>Aliquam ut nisl eu dolor ullamcorper auctor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque a felis non dui hendrerit scelerisque. Duis et orci et ex mattis imperdiet. Aenean quam urna, feugiat eu urna eget, lobortis accumsan elit. Nunc accumsan felis at erat facilisis porta. Morbi mi lacus, tristique in elementum eget, tincidunt nec sapien. Quisque vestibulum nunc ut eros cursus, nec facilisis ligula iaculis. Sed rhoncus porttitor viverra. In aliquam at mauris vel faucibus. Suspendisse mollis viverra neque, nec fringilla orci ornare sed. Praesent sollicitudin turpis ipsum, et rhoncus purus pulvinar ut. Vivamus risus lectus, tristique id consequat vel, placerat eu arcu. Pellentesque scelerisque porta ipsum id dignissim. Mauris maximus sed orci ut laoreet.</p><h4>Scrollable element:</h4><div class="scrollable"><h2>Beginning</h2><p>Fusce molestie tellus ut magna pulvinar convallis. Praesent pellentesque non erat non cursus. Maecenas rhoncus mi felis, in eleifend ipsum finibus blandit. Vivamus vehicula, sapien vel dignissim tempor, urna massa luctus ligula, id venenatis arcu urna vel ipsum. Nullam egestas nec magna ut scelerisque. Nulla ut ex mi. Suspendisse mi sapien, dictum vitae fermentum eget, volutpat elementum diam. Aenean maximus aliquet augue ac fringilla. Maecenas scelerisque nibh nec est suscipit semper egestas id lacus. Suspendisse pulvinar nunc suscipit mi lacinia, in blandit risus tincidunt. In venenatis luctus felis, sit amet consequat erat fringilla eu. Phasellus auctor sem odio, in feugiat dolor vestibulum et. Fusce sem lorem, pharetra a tincidunt sit amet, semper in leo.</p><p>Integer sit amet turpis at purus viverra semper nec in risus. Fusce ut gravida arcu, a aliquam justo. Duis volutpat velit non varius posuere. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis ac rhoncus turpis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam id nibh gravida, iaculis dui vitae, vulputate neque. Vivamus vitae commodo risus. In imperdiet accumsan magna et venenatis. Vestibulum rutrum, odio at luctus auctor, quam odio efficitur sem, pellentesque volutpat sapien nisl eu quam. Donec ut tincidunt dui.</p><p>Aliquam ut nisl eu dolor ullamcorper auctor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque a felis non dui hendrerit scelerisque. Duis et orci et ex mattis imperdiet. Aenean quam urna, feugiat eu urna eget, lobortis accumsan elit. Nunc accumsan felis at erat facilisis porta. Morbi mi lacus, tristique in elementum eget, tincidunt nec sapien. Quisque vestibulum nunc ut eros cursus, nec facilisis ligula iaculis. Sed rhoncus porttitor viverra. In aliquam at mauris vel faucibus. Suspendisse mollis viverra neque, nec fringilla orci ornare sed. Praesent sollicitudin turpis ipsum, et rhoncus purus pulvinar ut. Vivamus risus lectus, tristique id consequat vel, placerat eu arcu. Pellentesque scelerisque porta ipsum id dignissim. Mauris maximus sed orci ut laoreet.</p><p>Aenean nec turpis in ante aliquam semper et vitae tortor. Cras nec eleifend eros. In eu est ut ante interdum placerat. Integer ultrices leo purus, in semper turpis volutpat sit amet. Nulla congue bibendum risus viverra varius. Nam id eros a diam blandit volutpat sed sit amet nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie porttitor leo ullamcorper fermentum. Aenean ac mollis metus. Morbi sollicitudin magna nibh, blandit feugiat quam convallis at. Vivamus id ante vitae orci mattis volutpat ac ut nisi. Vivamus convallis nisi in ex tempor efficitur. Etiam sapien sapien, posuere nec nunc vitae, rutrum volutpat ligula.</p><p>Fusce molestie tellus ut magna pulvinar convallis. Praesent pellentesque non erat non cursus. Maecenas rhoncus mi felis, in eleifend ipsum finibus blandit. Vivamus vehicula, sapien vel dignissim tempor, urna massa luctus ligula, id venenatis arcu urna vel ipsum. Nullam egestas nec magna ut scelerisque. Nulla ut ex mi. Suspendisse mi sapien, dictum vitae fermentum eget, volutpat elementum diam. Aenean maximus aliquet augue ac fringilla. Maecenas scelerisque nibh nec est suscipit semper egestas id lacus. Suspendisse pulvinar nunc suscipit mi lacinia, in blandit risus tincidunt. In venenatis luctus felis, sit amet consequat erat fringilla eu. Phasellus auctor sem odio, in feugiat dolor vestibulum et. Fusce sem lorem, pharetra a tincidunt sit amet, semper in leo.</p><p>Integer sit amet turpis at purus viverra semper nec in risus. Fusce ut gravida arcu, a aliquam justo. Duis volutpat velit non varius posuere. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis ac rhoncus turpis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam id nibh gravida, iaculis dui vitae, vulputate neque. Vivamus vitae commodo risus. In imperdiet accumsan magna et venenatis. Vestibulum rutrum, odio at luctus auctor, quam odio efficitur sem, pellentesque volutpat sapien nisl eu quam. Donec ut tincidunt dui.</p><p>Aliquam ut nisl eu dolor ullamcorper auctor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque a felis non dui hendrerit scelerisque. Duis et orci et ex mattis imperdiet. Aenean quam urna, feugiat eu urna eget, lobortis accumsan elit. Nunc accumsan felis at erat facilisis porta. Morbi mi lacus, tristique in elementum eget, tincidunt nec sapien. Quisque vestibulum nunc ut eros cursus, nec facilisis ligula iaculis. Sed rhoncus porttitor viverra. In aliquam at mauris vel faucibus. Suspendisse mollis viverra neque, nec fringilla orci ornare sed. Praesent sollicitudin turpis ipsum, et rhoncus purus pulvinar ut. Vivamus risus lectus, tristique id consequat vel, placerat eu arcu. Pellentesque scelerisque porta ipsum id dignissim. Mauris maximus sed orci ut laoreet.</p><h2>The end</h2></div>'
    },
    "what-we-do": {
        "title": "What We Do",
        "content": '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam elementum placerat erat, id suscipit magna ullamcorper eu. Maecenas tristique purus vitae odio gravida, vel vehicula augue consequat. Vivamus eget blandit erat. Cras in convallis lectus. Curabitur dapibus mi tellus, non blandit nisi faucibus accumsan. Nulla quis lorem non purus aliquam hendrerit. Duis id arcu at ipsum consectetur sagittis. Nullam nisi justo, ultricies vel pellentesque at, varius in risus. Donec at eros vel lacus posuere mollis. Ut augue tellus, finibus eu libero vitae, porttitor sagittis arcu.</p><h2>Career Options</h2><table id="careerOptions"><thead><th>Profession</th><th>Requirements</th><th>Location</th><th>Start from</th></thead><tbody><tr><td>Full Stack Developer</td><td>C#, Java, Php</td><td>Prague, CZ</td><td>ASAP</td></tr><tr><td>QA Engineer</td><td>Java, JS, Test analysis</td><td>Prague, CZ</td><td>ASAP</td></tr><tr><td>Big Brain</td><td>Needs to know everything</td><td>Palo Alto, CA</td><td>Yesterday was late</td></tr></tbody></table><h2>Appended Content</h2><button id="appendSomeContent">Append some content</button><div id="appendToMe"></div>'
    },
    "contact-us": {
        "title": "Contact Us",
        "content": '<div class="locationWrapper"><div class="addressWrapper"><p>You can meet us on:</br>Táborská 940/31</br>140 00 Praha 4</br>5th floor</p></div><div class="mapWrapper"><iframe style="border:none" src="https://frame.mapy.cz/s/japoluzete" width="400" height="280" frameborder="0"></iframe></div></div><p>Or you can contact us with a form below:</p><form id="contact-form"><span>Email:</span><input type="text" placeholder="you@email.com" name="email" /><span>Name:</span><input type="text" placeholder="Your name" name="name" /><span>Message:</span><textarea name="message" placeholder="What would you like to tell us?"></textarea><button type="submit">Send message</button></form>'
    }
};

$(function () {
    currentPage = window.location.href.split("/")[window.location.href.split("/").length - 1];

    renderPageContent(currentPage);

    $(document).on("click", "menu ul li a", function(e) {
        e.stopPropagation();
        e.preventDefault();
        renderPageContent($(this).attr("href"));
    });

    $(document).on("submit", "#contact-form", function(e) {
        e.preventDefault();
        sendContactForm();
    });

    $(document).on("click", "#popup button", function() {
        hidePopup();
    });

    $(document).on("click", "#scrollTop", function() {
        window.scrollTo(0, 0);
    });

    $(document).on("click", "#appendSomeContent", async function() {
        await simulateAPIRequest();
        $("#appendToMe").append('<div id="appendedContent" data-appended="0"><p>This is some random appended content.</p><button id="refreshSomeContent">Refresh appended content</button></div>');
        $("#appendSomeContent").remove();
    });

    $(document).on("click", "#refreshSomeContent", async function() {
        await simulateAPIRequest();
        times = parseInt($("#appendedContent").attr("data-appended")) + 1;
        $("#appendToMe").empty();
        $("#appendToMe").append('<div id="appendedContent" data-appended="' + times + '"><p>This is some random appended and refreshed (' + times + 'x) content.</p><button id="refreshSomeContent">Refresh appended content</button></div>');
    });
});

async function simulateAPIRequest () {
    showLoadingOverlay();
    await sleep(Math.floor((Math.random() * 4000) + 1000));
    hideLoadingOverlay();
}

async function showPopup (message) {
    $("body").append('<div id="popup"><p>' + message + '</p><button>Close</button></div>');
}

function showLoadingOverlay () {
    $("body").append('<div id="screen-overlay"></div>');
}

function hideLoadingOverlay () {
    $("#screen-overlay").remove();
}

function hidePopup () {
    hideLoadingOverlay();
    $("#popup").remove();
}

async function sendContactForm () {
    $("#contact-form").get(0).reset();
    await simulateAPIRequest();
    showPopup("Message sent");
}

async function sleep(msec) {
    return new Promise(resolve => setTimeout(resolve, msec));
}

function renderPageContent (pageName) {
    if (!webContent.hasOwnProperty(pageName)) {
        pageName= "home";
    }
    $("menu ul li a").removeClass("active");
    $("menu ul li a[href=" + pageName + "]").addClass("active");
    $(".articleTitleWrapper h1").html(webContent[pageName].title);
    $(".articleContentWrapper").html(webContent[pageName].content);
}